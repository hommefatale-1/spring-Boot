<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.BoardMapper">

	<!-- 게시글 목록 -->
	<select id="selectBoardList" parameterType="hashmap"
		resultType="com.example.test1.model.Board">
		SELECT
		*
		FROM TBL_BOARD B
		INNER JOIN TBL_MEMBER1 M ON B.USERID
		= M.USERID
		ORDER
		BY BOARDNO DESC
	</select>

	<!-- 게시글 상세보기 -->
	<select id="selectBoardInfo" parameterType="hashmap"
		resultType="com.example.test1.model.Board">
		SELECT
		*
		FROM TBL_BOARD B
		INNER JOIN TBL_MEMBER1 M ON B.USERID
		= M.USERID
		WHERE
		BOARDNO = #{boardNo}
	</select>
	<!-- 게시글 삭제 -->
	<delete id="deleteBoard" parameterType="hashmap">
		DELETE FROM TBL_BOARD
		WHERE BOARDNO = #{boardNo}
	</delete>

	<!-- 조회수 증가 -->
	<update id="updateHit" parameterType="hashmap">
		UPDATE TBL_BOARD SET HIT
		=
		HIT + 1 WHERE BOARDNO = #{boardNo}
	</update>

	<!-- 게시글 작성 -->
	<insert id="insertBoard" parameterType="hashmap">
		INSERT INTO TBL_BOARD
		(BOARDNO, TITLE, CONTENTS, USERID, HIT, KIND, CDATETIME )
		VALUES(BBS_SEQ.NEXTVAL, #{title}, #{contents}, #{userId}, 0, 2, SYSDATE)
	</insert>
</mapper>